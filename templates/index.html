<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script src="https://unpkg.com/htmx.org@1.8.5"></script>
    <title>{{title}}</title>
</head>
<body class="w3-container w3-sand">

<header class="w3-panel w3-center w3-section w3-light-blue w3-round w3-card w3-topbar w3-bottombar" id="header">
    <h1 class="w3-center"><strong>{{title}}</strong></h1>
</header>

<div class="w3-container w3-section" style="max-width: 60vw; margin: 0 auto;">
    <form class="w3-container w3-section w3-round w3-card"
          hx-post="/show_result" hx-target="#result_container" hx-trigger="submit">

        <div class="w3-section">
            <label for="table"><strong>Select Table:</strong></label>

            <select class="w3-select w3-border w3-round w3-light-grey" name="table" id="table" required
                    hx-get="/show_fields" hx-target="#columns_container" hx-trigger="change">
                <option value="" disabled selected>-- Select a Table --</option>
                {% for table in tables %}
                <option value="{{ table }}">{{ table }}</option>
                {% endfor %}
            </select>

            <div id="columns_container"></div>

        </div>


        <input type="submit" value="Fetch Data" class="w3-button w3-green w3-round w3-section w3-block">
    </form>

</div>

<div class="w3-container w3-section" style="max-width: 90vw; margin: 0 auto;">
    <div id="result_container"></div>
</div>
</body>
</html>